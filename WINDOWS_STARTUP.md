# Windows 启动脚本使用说明

本项目提供了多个Windows启动脚本，适用于不同的使用场景。

## 脚本文件说明

### 1. `start_simple.bat` - 简单启动脚本
**适用场景**：环境已经配置完成，只需要快速启动服务

**功能**：
- 直接激活虚拟环境并启动服务器
- 最简洁的启动方式

**使用方法**：
```cmd
start_simple.bat
```

### 2. `start_server.bat` - 标准启动脚本
**适用场景**：虚拟环境已存在，需要基本的错误检查

**功能**：
- 检查虚拟环境是否存在
- 检查主程序文件是否存在
- 激活虚拟环境并启动服务器
- 友好的用户界面

**使用方法**：
```cmd
start_server.bat
```

### 3. `start_complete.bat` - 完整启动脚本
**适用场景**：首次部署或需要完整的环境检查

**功能**：
- 检查Python环境
- 自动创建虚拟环境（如不存在）
- 自动安装项目依赖
- 自动初始化数据库（如不存在）
- 设置环境变量
- 启动服务器

**使用方法**：
```cmd
start_complete.bat
```

### 4. `start.bat` - 增强版启动脚本
**适用场景**：需要详细的状态信息和错误处理

**功能**：
- 完整的环境检查
- 详细的进度提示
- 错误处理和解决方案提示
- 美观的界面显示

**使用方法**：
```cmd
start.bat
```

## 使用建议

### 首次使用
1. 确保已安装Python 3.12或更高版本
2. 使用 `start_complete.bat` 或 `start.bat` 进行首次启动
3. 脚本会自动创建虚拟环境、安装依赖、初始化数据库

### 日常使用
- 推荐使用 `start_server.bat` 或 `start_simple.bat`
- 这些脚本启动更快，适合日常开发使用

### 生产环境
- 使用 `start_complete.bat` 确保环境完整性
- 可以考虑将脚本设置为Windows服务

## 系统要求

- Python 3.12或更高版本
- Windows 7/8/10/11
- 至少100MB可用磁盘空间
- 网络连接（用于安装依赖）

## 常见问题

### 1. Python未找到
**错误**：`'python' 不是内部或外部命令`
**解决**：确保Python已安装并添加到系统PATH中

### 2. 虚拟环境创建失败
**错误**：虚拟环境创建失败
**解决**：检查Python安装是否完整，确保有创建虚拟环境的权限

### 3. 依赖安装失败
**错误**：pip install 失败
**解决**：
- 检查网络连接
- 尝试使用国内镜像：`pip install -e . -i https://pypi.tuna.tsinghua.edu.cn/simple/`

### 4. 数据库初始化失败
**错误**：数据库初始化失败
**解决**：
- 确保有data目录的写入权限
- 检查main.py和init_db.py文件是否存在

## 手动启动命令

如果脚本启动失败，可以手动执行以下命令：

```cmd
# 1. 激活虚拟环境
.venv\Scripts\activate.bat

# 2. 启动服务器
python -m uvicorn main:app --host 0.0.0.0 --port 8000 --reload
```

## 服务信息

- **服务地址**：http://localhost:8000
- **API文档**：http://localhost:8000/docs
- **停止服务**：按 Ctrl+C

## 注意事项

1. 确保在项目根目录运行脚本
2. 首次运行可能需要几分钟时间安装依赖
3. 如果遇到权限问题，请以管理员身份运行脚本
4. 建议定期备份数据库文件（data/inventory.db）